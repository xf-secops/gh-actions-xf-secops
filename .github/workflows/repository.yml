---
name: repository

"on":
  workflow_dispatch:
    inputs:
      dispatch_action:
        required: true
        type: choice
        options: [repository]
      app_id:
        required: true
        type: string
      event_payload:
        required: true
        type: string

permissions: {}

jobs:
  orchestrate:
    permissions:
      contents: read
    uses: >-
      shared-common/gh-actions-shared/.github/workflows/orchestrator-core.yml@v0.0.18
    with:
      event-payload: ${{ inputs.event_payload }}
      event-context: ${{ toJson(github.event) }}
      event-name: ${{ github.event_name }}
      expected-event-action: ${{ inputs.dispatch_action }}
      target-org: ${{ github.repository_owner }}
      shared-repo: shared-common/gh-actions-shared
      shared-ref: v0.0.18
      bws-version: ${{ vars.BWS_VERSION }}
      bws-sha256: ${{ vars.BWS_SHA256 }}
    secrets:
      BWS_ACCESS_TOKEN: ${{ secrets.BWS_ACCESS_TOKEN }}
      BWS_PROJECT_ID: ${{ secrets.BWS_PROJECT_ID }}
